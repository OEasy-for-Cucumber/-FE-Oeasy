import{f as p,k as b,l as v,i as f,a as P,r as u,j as t,L as N,m as y,c as E}from"./index-C3_MdCAa.js";import{Q as w,u as R}from"./useBaseQuery-xLqIjlTH.js";import{r as j}from"./rightArrow-89cJ_8Fk.js";var Q=class extends w{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,r){super.setOptions({...e,behavior:p()},r)}getOptimisticResult(e){return e.behavior=p(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,r){var m,A;const{state:a}=e,c=super.createResult(e,r),{isFetching:o,isRefetching:x,isError:d,isRefetchError:h}=c,n=(A=(m=a.fetchMeta)==null?void 0:m.fetchMore)==null?void 0:A.direction,i=d&&n==="forward",s=o&&n==="forward",l=d&&n==="backward",g=o&&n==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:b(r,a.data),hasPreviousPage:v(r,a.data),isFetchNextPageError:i,isFetchingNextPage:s,isFetchPreviousPageError:l,isFetchingPreviousPage:g,isRefetchError:h&&!i&&!l,isRefetching:x&&!s&&!g}}};function I(e,r){return R(e,Q)}const M="/assets/recipeLike-DIR7jfjj.webp",H="data:image/webp;base64,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";function F(){return I({queryKey:["recipes"],queryFn:async({pageParam:e=1})=>(await f.get("api/recipe/board",{params:{view:12,page:e}})).data,getNextPageParam:e=>e.hasNextPage?e.nowPage+1:void 0,initialPageParam:1})}function J(){const{data:e,fetchNextPage:r,hasNextPage:a,isLoading:c}=F(),{user:o}=P(),x=u.useRef(null),[d,h]=u.useState([]);u.useEffect(()=>{if(!x.current||!a)return;const i=new IntersectionObserver(([s])=>{s.isIntersecting&&r()},{root:null,rootMargin:"100px",threshold:0});return i.observe(x.current),()=>{i.disconnect()}},[r,a]);const n=async i=>{try{await f.get(`/api/recipe/like/${o==null?void 0:o.memberPk}/${i}`),h(s=>s.includes(i)?s.filter(l=>l!==i):[...s,i])}catch(s){console.error("좋아요 처리 실패:",s)}};return c?t.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:t.jsx(N,{})}):t.jsxs(t.Fragment,{children:[e==null?void 0:e.pages.map(i=>t.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-4 justify-items-center mb-4",children:i.list.map(s=>t.jsx("div",{children:t.jsxs(y,{to:`/recipe-detail/${s.id}`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:s.imgUrl,alt:s.title,className:"w-[225px] h-[148px] object-cover rounded relative"}),t.jsx("button",{onClick:l=>{l.preventDefault(),n(s.id)},className:"absolute right-0 bottom-0",children:t.jsx("img",{src:d.includes(s.id)?H:M,alt:"레시피 좋아요 버튼",className:"w-[48px] h-[48px]"})})]}),t.jsx("div",{className:"py-2 font-b1-semibold",children:s.title})]})},s.id))},i.nowPage)),t.jsx("div",{ref:x,className:"w-full h-[56px] flex items-center justify-center mb-4"})]})}const z="/assets/oven-ihYBYv2Z.webp",B="/assets/recipe_heart-zS4cAa33.webp";function O(){const e=E(),r=async()=>{const a=await f("/api/recipe/random"),c=a==null?void 0:a.data;e(`/recipe-detail/${c}`)};return t.jsxs("section",{className:"px-6 xl:px-0 xl:w-[864px] xl:mx-auto",children:[t.jsxs("div",{className:"my-[24px]",children:[t.jsxs("div",{className:"w-full border border-greenoe-600 py-[16px] pl-[24px] mb-4 rounded-lg relative",children:[t.jsx("h5",{className:"font-h5 mb-2",children:"오이로 뭐 해먹지?"}),t.jsxs("button",{onClick:r,className:"flex flex-row justify-between items-center w-[125px] h-[20px] px-2 py-[2px] bg-greenoe-600 rounded-full font-c2",children:["오늘 요리 추천 받기",t.jsx("img",{src:j,alt:"랜덤버튼",className:"w-[14px] h-[14px]"})]}),t.jsx("img",{src:z,alt:"랜덤레시피 버튼 오븐 이미지",className:"w-[62px] h-[68px] absolute right-[23px] top-[11px]"})]}),t.jsxs("div",{className:"w-full border border-greenoe-600 py-[16px] pl-[24px] rounded-lg relative",children:[t.jsx("h5",{className:"font-h5 mb-2",children:"나 오이 좋아하네"}),t.jsxs("button",{onClick:r,className:"flex flex-row justify-between items-center w-[132px] h-[20px] px-2 py-[2px] bg-greenoe-600 rounded-full font-c2",children:["내가 좋아요한 레시피",t.jsx("img",{src:j,alt:"랜덤버튼",className:"w-[14px] h-[14px]"})]}),t.jsx("img",{src:B,alt:"랜덤레시피 버튼 오븐 이미지",className:"w-[63px] h-[60px] absolute right-[23px] top-[15px]"})]})]}),t.jsx(J,{})]})}export{O as default};
